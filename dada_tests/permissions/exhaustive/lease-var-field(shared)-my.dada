class Pair(a, b)

async fn main() {
    var p = Pair(Pair(22, 44), 66)
    var q = p.a.lease
    print(q).await #! OUTPUT shared Pair\(22, 44\)

    # FIXME: the stringifier doesn't take storage modes into
    # account
    print(p).await #! OUTPUT my Pair\(my Pair\(22, 44\), 66\)

    # FIXME: we revoke permissions without considering storage modes
    print(q).await #! RUN ERROR your lease to this object was cancelled
}